\section{Windows}

Officially, the pbdR team does not support gaming consoles.  However, it is possible to install pbdR packages on Windows.

% \subsection{R and Rtools}

The instructions and screenshots for this document are for version 2.15.1 of R, but later versions should be very similar, if not identical.






\subsection{R}


\begin{enumerate}
  \item Download R: \url{http://cran.r-project.org/bin/windows/base/} \label{enum:windl}
  \sshots{\begin{center}\includegraphics[scale=.5]{windows/pics/R_1.png}\end{center}}
  %
  \item Open the saved file from \ref{enum:windl} above to begin the installation.  At the first setup screen, click 'Next' to continue.
  \sshot{windows/pics/R_2.png}
  %
  \item When prompted with the license, click 'Next' to continue.
  \sshot{windows/pics/R_3.png}
  %
  \item When prompted for the location to install R, we strongly encourage you to use the default.  When you have made your decision, click 'Next'.
  \sshot{windows/pics/R_4.png}
    %
  \item When prompted with the components to install, you should select a 'User installation'.  Then click 'Next'.
  \sshot{windows/pics/R_5.png}
    %
  \item When prompted with the option to alter the startup options, we suggest selecting \code{No (accept defaults)}.  When you have made your decision, click 'Next'.
  \sshot{windows/pics/R_6.png}
    %
  \item When prompted with the start menu folder options, make your choice and then click 'Next'.
  \sshot{windows/pics/R_7.png}
    %
  \item When prompted with the additional tasks options, we suggest making sure that \code{Save version number in registry} and \code{Associate R with .RData files} are both \textbf{checked}.  When you have made your decisions, click 'Next'.
  \sshot{windows/pics/R_8.png}
  %
  \item To complete the R installation, select 'Finish'.
  \sshot{windows/pics/R_9.png}
  %
\end{enumerate}

Once \proglang{R} is finished installing, you need to install the  \href{http://cran.r-project.org/web/packages/rlecuyer/index.html}{\pkg{rlecuyer}} package.  To install it from an interactive \proglang{R} session, simply start an \proglang{R} session and issue the command
\begin{lstlisting}[language=rr]
install.packages("rlecuyer")
\end{lstlisting}





\subsection{Rtools}

\begin{enumerate}
  \item Download Rtools: \url{http://cran.r-project.org/bin/windows/base/} \label{enum:rtoolsdl}
  \sshots{\begin{center}\includegraphics[scale=.5]{windows/pics/Rtools_1.png}\end{center}}
  %
  \item Open the saved file from \ref{enum:rtoolsdl} above to begin the installation.  At the first setup screen, click 'Next' to continue.
  \sshot{windows/pics/Rtools_2.png}
  %
  \item When prompted with the license, click 'Next' to continue.
  \sshot{windows/pics/Rtools_3.png}
  %
  \item When prompted for the location to install R, we strongly encourage you to use the default.  When you have made your decision, click 'Next'.
  \sshot{windows/pics/Rtools_4.png}
    %
  \item When prompted with the components to install, you should select a 'User installation'.  Then click 'Next'.
  \sshot{windows/pics/Rtools_5.png}
    %
  \item When prompted with the option to alter the startup options, we suggest selecting \code{No (accept defaults)}.  When you have made your decision, click 'Next'.
  \sshot{windows/pics/Rtools_6.png}
    %
  \item When prompted with the start menu folder options, make your choice and then click 'Next'.
  \sshot{windows/pics/Rtools_7.png}
    %
  \item To complete the Rtools installation, select 'Finish'.
  \sshot{windows/pics/Rtools_8.png}
  %
\end{enumerate}





\subsection{MPICH2}
Before proceeding, please be aware that this installation requires {\color{red}{administrative privileges}}.

\begin{enumerate}
  \item Download both the 32-bit
  \href{http://www.mpich.org/static/tarballs/1.4.1p1/mpich2-1.4.1p1-win-ia32.msi}{mpich2-1.4.1p1-win-i32.msi} 
  and the 64-bit
  \href{http://www.mpich.org/static/tarballs/1.4.1p1/mpich2-1.4.1p1-win-x86-64.msi}{mpich2-1.4.1p1-win-x86-64.msi}
  installers from: \url{http://www.mpich.org/} .\label{enum:mpich2}
  \sshots{\begin{center}\includegraphics[scale=.5]{windows/pics/mpich2_1.png}\end{center}}
  %
  \item Open the saved file from \ref{enum:mpich2} above to begin the installation.  At the first setup screen, click 'Next' to continue.
  \sshot{windows/pics/mpich2_2.png}
  %
  \item When prompted with the system requirements, click 'Next' to continue.
  \sshot{windows/pics/mpich2_3.png}
  %
  \item When prompted with the license, click ``I agree'' and then click 'Next' to continue.
  \sshot{windows/pics/mpich2_4.png}
    %
  \item When prompted with the 'Process Manager setup' screen, choose a passphrase and then click 'Next' to continue.
  \sshot{windows/pics/mpich2_5.png}
    %
  \item At the 'Select Installation Folder' screen, we recommend you keep the default folders.  By default, the 32-bit application will be installed in \code{C:\textbackslash Program Files (x86)\textbackslash MPICH2\textbackslash } and the 64bit application will be installed in \code{C:\textbackslash Program Files\textbackslash MPICH2\textbackslash }.\\[.2cm] Additionally, you should make the selection for whether or not MPICH2 should be available to all users of this system or just yourself.  When you are ready to proceed, click 'Next'.
  \sshot{windows/pics/mpich2_6.png}
  \sshot{windows/pics/mpich2_6_1.png}
    %
  \item When prompted to confirm the installation, click 'Next' to proceed.
  \sshot{windows/pics/mpich2_7.png}
    %
  \item To complete the MPICH2 installation, select 'Close'.
  \sshot{windows/pics/mpich2_8.png}
  %
\end{enumerate}






\subsection{pbdR}
\begin{enumerate}
  \item To help simplify things, we offer a simple \href{windows/build_pbdMPI.bat}{install script} which makes managing the \code{PATH} slightly simpler.  By default, this is for \proglang{R} version 2.15.3 and \pkg{pbdMPI} version 0.1-6.  If you have a different version of R or want to install a different version of \pkg{pbdMPI}, simply change lines 4 and/or 5 of the install script to match your needs.
  \sshot{windows/pics/build_0.png}
  %
  \item Open a command prompt either from the start menu, or by entering the command \code{Windows key} then \code{R}, and then entering \code{cmd} in the ``run'' dialog box.
  \sshot{windows/pics/build_1.png}
  %
  \item Before proceeding further, it is probably a good idea to test the installation of MPICH2.  The following commands utilize MPICH2 to do some fairly trivial things (do not copy \code{SHELL>} if you are copying and pasting from the lines below):
  \begin{Code}
SHELL> C:\PROGRA~1\MPICH2\bin\mpiexec -np 2 hostname.exe
SHELL> C:\PROGRA~1\R\R-2.15.1\bin\R --vanilla --slave -e "ls()"
SHELL> C:\PROGRA~1\R\R-2.15.1\bin\Rscript --vanilla --slave -e "ls()"
  \end{Code}
  \sshot{windows/pics/build_2.png}
  %
%   \item Next, go download and install the \href{http://cran.r-project.org/web/packages/rlecuyer/index.html}{\pkg{rlecuyer}} package.
%   \sshot{windows/pics/build_3.png}
  %
  \item Download the \href{http://cran.r-project.org/src/contrib/pbdMPI_0.1-6.tar.gz}{source} for \href{http://cran.r-project.org/web/packages/pbdMPI/index.html}{\pkg{pbdMPI}} package.  Put it in the same directory as your \code{build_pbdMPI.bat} file, and then execute \code{build_pbdMPI.bat} from the command prompt to install the package.
  \sshot{windows/pics/build_4.png}
    %
  \item If the process is done without errors, you can see the binary package is installed. 
  \sshot{windows/pics/build_5.png}
%     %
%   \item 
%   \sshot{windows/pics/build_6.png}
\end{enumerate}




